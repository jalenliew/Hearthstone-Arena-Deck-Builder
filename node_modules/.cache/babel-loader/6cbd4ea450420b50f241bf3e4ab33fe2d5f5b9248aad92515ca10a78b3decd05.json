{"ast":null,"code":"const oauth2 = require(\"simple-oauth2\");\nclass OAuthClient {\n  constructor({\n    oauthOptions\n  }) {\n    this.client = oauth2.create(oauthOptions);\n    this.token = null;\n  }\n  async getToken() {\n    try {\n      if (this.token === null || this.token.expired()) {\n        const token = await this.client.clientCredentials.getToken();\n        this.token = this.client.accessToken.create(token);\n      }\n      return this._reduceToken(this.token);\n    } catch (err) {\n      console.error(`Failed to retrieve client credentials oauth token: ${err.message}`);\n      throw err;\n    }\n  }\n  _reduceToken(token) {\n    return token.token.access_token;\n    ;\n  }\n}\nmodule.exports = OAuthClient;","map":{"version":3,"names":["oauth2","require","OAuthClient","constructor","oauthOptions","client","create","token","getToken","expired","clientCredentials","accessToken","_reduceToken","err","console","error","message","access_token","module","exports"],"sources":["C:/Programming/Hearthstone/Hearthstone-Arena-Deck-Builder/hearthstone-app/src/oauth/client.js"],"sourcesContent":["const oauth2 = require(\"simple-oauth2\");\r\n\r\nclass OAuthClient {\r\n    constructor({\r\n        oauthOptions\r\n    }) {\r\n        this.client = oauth2.create(oauthOptions);\r\n        this.token = null;\r\n    }\r\n\r\n    async getToken() {\r\n        try {\r\n            if (this.token === null || this.token.expired()) {\r\n                const token = await this.client.clientCredentials.getToken();\r\n                this.token = this.client.accessToken.create(token);\r\n            }\r\n            return this._reduceToken(this.token);\r\n        } catch (err) {\r\n            console.error(`Failed to retrieve client credentials oauth token: ${err.message}`);\r\n            throw err;\r\n        }\r\n    }\r\n\r\n    _reduceToken(token) {\r\n        return token.token.access_token;;\r\n    }\r\n}\r\n\r\nmodule.exports = OAuthClient;"],"mappings":"AAAA,MAAMA,MAAM,GAAGC,OAAO,CAAC,eAAe,CAAC;AAEvC,MAAMC,WAAW,CAAC;EACdC,WAAWA,CAAC;IACRC;EACJ,CAAC,EAAE;IACC,IAAI,CAACC,MAAM,GAAGL,MAAM,CAACM,MAAM,CAACF,YAAY,CAAC;IACzC,IAAI,CAACG,KAAK,GAAG,IAAI;EACrB;EAEA,MAAMC,QAAQA,CAAA,EAAG;IACb,IAAI;MACA,IAAI,IAAI,CAACD,KAAK,KAAK,IAAI,IAAI,IAAI,CAACA,KAAK,CAACE,OAAO,CAAC,CAAC,EAAE;QAC7C,MAAMF,KAAK,GAAG,MAAM,IAAI,CAACF,MAAM,CAACK,iBAAiB,CAACF,QAAQ,CAAC,CAAC;QAC5D,IAAI,CAACD,KAAK,GAAG,IAAI,CAACF,MAAM,CAACM,WAAW,CAACL,MAAM,CAACC,KAAK,CAAC;MACtD;MACA,OAAO,IAAI,CAACK,YAAY,CAAC,IAAI,CAACL,KAAK,CAAC;IACxC,CAAC,CAAC,OAAOM,GAAG,EAAE;MACVC,OAAO,CAACC,KAAK,CAAE,sDAAqDF,GAAG,CAACG,OAAQ,EAAC,CAAC;MAClF,MAAMH,GAAG;IACb;EACJ;EAEAD,YAAYA,CAACL,KAAK,EAAE;IAChB,OAAOA,KAAK,CAACA,KAAK,CAACU,YAAY;IAAC;EACpC;AACJ;AAEAC,MAAM,CAACC,OAAO,GAAGjB,WAAW"},"metadata":{},"sourceType":"module","externalDependencies":[]}